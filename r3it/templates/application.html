{% extends "base.html" %}

{% block content %}

    <script src="https://polyfill.io/v3/polyfill.min.js?version=3.52.1&features=fetch"></script>
    <script src="https://js.stripe.com/v3/"></script>
    <script src="https://unpkg.com/vanilla-masker@1.1.1/lib/vanilla-masker.js"></script>
    <script src="/static/js/application.js" defer></script>

    <meta id="dataTariff" data-tariff="{{default['Tariff']}}">

    <!-- Bootstrap application form -->
    <h1 class="my-4">New Interconnection Application</h1>
    <form id="application" action="{{formAction}}" method="post" class="needs-validation" novalidate>

        <hr class="my-4">

        <!-- Member Block -->
        <div id="member" class="mb-5">
            <h3 class="mb-3">Member Information</h3>
            <div class="row g-3 g-md-5">

                <div class="col-md-6 col-lg-7">
                    <div class="row g-3">
                        <div>
                            <label for="nameMember" class="form-label">Full Name</label>
                            <input type="text" class="form-control" id="nameMember" name="Name (Member)" value="{{default['Name (Member)']}}" placeholder="" required>
                            <div class="invalid-feedback"></div>
                        </div>
                        <fieldset>
                            <legend class="col-form-label py-0">Mailing Address</legend>
                            <div class="row g-2">
                                <div>
                                    <input type="text" class="form-control" id="addressMember" name="Address (Member)" value="{{default['Address (Member)']}}" placeholder="Street Address" aria-label="street address" required>
                                </div>
                                <div>
                                    <input type="text" class="form-control" id="address2Member" name="Address 2 (Member)" value="{{default['Address 2 (Member)']}}" placeholder="Address Line 2" aria-label="address line 2">
                                </div>
                                <div class="col-sm-6 col-md-12 col-lg-6">
                                    <input type="text" class="form-control" id="cityMember" name="City (Member)" value="{{default['City (Member)']}}" placeholder="City" aria-label="city" required>
                                </div>
                                <div class="col-6 col-sm-3 col-md-6 col-lg-3">
                                    <select class="form-select" id="stateMember" name="State (Member)" aria-label="state" required>
                                        <option value="" hidden selected disabled>--State --</option>
                                        {% for state in states %}
                                            <option value="{{state}}" {% if (state == default['State (Member)']) %} selected {% endif %}>{{state}}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                                <div class="col-6 col-sm-3 col-md-6 col-lg-3">
                                    <input type="text" class="form-control" id="zipMember" name="Zip (Member)" value="{{default['Zip (Member)']}}" placeholder="Postal / Zip Code" aria-label="zip code" pattern="[0-9]{5}" maxlength="5" required>
                                </div>
                                <div class="invalid-feedback"></div>
                            </div>
                        </fieldset>
                    </div>
                </div>

                <div class="col-md-6 col-lg-5">
                    <div class="row g-3">
                        <div>
                            <label for="emailMember" class="form-label">Email Address</label>
                            <input type="email" class="form-control" id="emailMember" name="Email (Member)" value="{{default['Email (Member)']}}" required>
                            <div class="invalid-feedback"></div>
                        </div>
                        <div class="col-sm-4 col-md-12">
                            <label for="primaryPhoneMember" class="form-label">Primary Phone</label>
                            <input type="tel" class="form-control" id="primaryPhoneMember" name="Phone (Primary, Member)" value="{{default['Phone (Primary, Member)']}}" pattern="\([0-9]{3}\) [0-9]{3} - [0-9]{4}|[0-9]{10}" maxlength="16" required>
                            <div class="invalid-feedback"></div>
                        </div>
                        <div class="col-sm-4 col-md-12 col-lg-6">
                            <label for="secondaryPhoneMember" class="form-label">Secondary Phone</label>
                            <input type="tel" class="form-control" id="secondaryPhoneMember" name="Phone (Secondary, Member)" value="{{default['Phone (Secondary, Member)']}}" pattern="\([0-9]{3}\) [0-9]{3} - [0-9]{4}|[0-9]{10}" maxlength="16">
                            <div class="invalid-feedback"></div>
                        </div>
                        <div class="col-sm-4 col-md-12 col-lg-6">
                            <label for="faxMember" class="form-label">Fax Number</label>
                            <input type="tel" class="form-control" id="faxMember" name="Fax (Member)" value="{{default['Fax (Member)']}}" pattern="\([0-9]{3}\) [0-9]{3} - [0-9]{4}|[0-9]{10}" maxlength="16">
                            <div class="invalid-feedback"></div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <hr class="my-4">

        <div class="form-check my-4">
            <input type="checkbox" class="form-check-input no-validation" id="useAltContact">
            <label for="useAltContact" class="form-check-label">Use Alternate Contact</label>
        </div>

        <!-- Alternate Contact Block -->
        <div id="altContact" class="mb-5">
            <h3 class="mb-3">Alternate Contact Information</h3>
            <div class="row g-3 g-md-5">

                <div class="col-md-6 col-lg-7">
                    <div class="row g-3">
                        <div>
                            <label for="nameAltContact" class="form-label">Contact Name</label>
                            <input type="text" class="form-control" id="nameAltContact" name="Name (Alt Contact)" value="{{default['Name (Alt Contact)']}}">
                            <div class="invalid-feedback"></div>
                        </div>
                        <fieldset>
                            <legend class="col-form-label py-0">Contact Address</legend>
                            <div class="row g-2">
                                <div>
                                    <input type="text" class="form-control" id="addressAltContact" name="Address (Alt Contact)" value="{{default['Address (Alt Contact)']}}" placeholder="Street Address" aria-label="street address">
                                </div>
                                <div>
                                    <input type="text" class="form-control" id="address2AltContact" name="Address 2 (Alt Contact)" value="{{default['Address 2 (Alt Contact)']}}" placeholder="Address Line 2" aria-label="address line 2">
                                </div>
                                <div class="col-sm-6 col-md-12 col-lg-6">
                                    <input type="text" class="form-control" id="cityAltContact" name="City (Alt Contact)" value="{{default['City (Alt Contact)']}}" placeholder="City" aria-label="city">
                                </div>
                                <div class="col-6 col-sm-3 col-md-6 col-lg-3">
                                    <select class="form-select" id="stateAltContact" name="State (Alt Contact)" aria-label="alt contact state">
                                        <option value="" hidden selected disabled>--- State ---</option>
                                        {% for state in states %}
                                            <option value="{{state}}" {% if (state == default['State (Alt Contact)']) %} selected {% endif %}>{{state}}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                                <div class="col-6 col-sm-3 col-md-6 col-lg-3">
                                    <input type="text" class="form-control" id="zipAltContact" name="Zip (Alt Contact)" value="{{default['Zip (Alt Contact)']}}" placeholder="Postal / Zip Code" aria-label="postal or zip code" pattern="[0-9]{5}" maxlength="5">
                                </div>
                                <div class="invalid-feedback"></div>
                            </div>
                        </fieldset>
                    </div>
                </div>
                
                <div class="col-md-6 col-lg-5">
                    <div class="row g-3">
                        <div>
                            <label for="emailAltContact" class="form-label">Email</label>
                            <input type="email" class="form-control" id="emailAltContact" name="Email (Alt Contact)" value="{{default['Email (Alt Contact)']}}">
                            <div class="invalid-feedback"></div>
                        </div>
                        <div class="col-sm-4 col-md-12">
                            <label for="primaryPhoneAltContact" class="form-label">Primary Phone</label>
                            <input type="tel" class="form-control" id="primaryPhoneAltContact" name="Phone (Primary, Alt Contact)" value="{{default['Phone (Primary, Alt Contact)']}}" pattern="\([0-9]{3}\) [0-9]{3} - [0-9]{4}|[0-9]{10}" maxlength="16">
                            <div class="invalid-feedback"></div>
                        </div>
                        <div class="col-sm-4 col-md-12 col-lg-6">
                            <label for="secondaryPhoneAltContact" class="form-label">Secondary Phone</label>
                            <input type="tel" class="form-control" id="secondaryPhoneAltContact" name="Phone (Secondary, Alt Contact)" value="{{default['Phone (Secondary, Alt Contact)']}}" pattern="\([0-9]{3}\) [0-9]{3} - [0-9]{4}|[0-9]{10}" maxlength="16">
                            <div class="invalid-feedback"></div>
                        </div>
                        <div class="col-sm-4 col-md-12 col-lg-6">
                            <label for="faxAltContact" class="form-label">Fax Number</label>
                            <input type="tel" class="form-control" id="faxAltContact" name="Fax (Alt Contact)" value="{{default['Fax (Alt Contact)']}}" pattern="\([0-9]{3}\) [0-9]{3} - [0-9]{4}|[0-9]{10}" maxlength="16">
                            <div class="invalid-feedback"></div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <hr class="my-4">

        <div class="form-check my-4">
            <input type="checkbox" class="form-check-input no-validation" id="memberIsSelfContractor">
            <label for="memberIsSelfContractor" class="form-check-label">Member is self-installing equipment</label>
        </div>

        <!-- Equipment Contractor Block -->
        <div id="contractor" class="mb-5">
            <h3 class="mb-3">Equipment Contractor Information</h3>
            <div class="row g-3 g-md-5">

                <div class="col-md-6 col-lg-7">
                    <div class="row g-3">
                        <div>
                            <label for="nameContractor" class="form-label">Company Name</label>
                            <input type="text" class="form-control" id="nameContractor" name="Name (Contractor)" value="{{default['Name (Contractor)']}}" required>
                            <div class="invalid-feedback"></div>
                        </div>
                        <div>
                            <label for="contactContractor" class="form-label">Contact Person</label>
                            <input type="text" class="form-control" id="contactContractor" name="Contact Person (Contractor)" value="{{default['Contact Person (Contractor)']}}" required>
                            <div class="invalid-feedback"></div>
                        </div>
                        <fieldset>
                            <legend class="col-form-label py-0">Mailing Address</legend>
                            <div class="row g-2">
                                <div>
                                    <input type="text" class="form-control" id="addressContractor" name="Address (Contractor)" value="{{default['Address (Contractor)']}}" placeholder="Street Address" aria-label="street address" required>
                                </div>
                                <div>
                                    <input type="text" class="form-control" id="address2Contractor" name="Address 2 (Contractor)" value="{{default['Address 2 (Contractor)']}}" placeholder="Address Line 2" aria-label="address line 2">
                                </div>
                                <div class="col-sm-6 col-md-12 col-lg-6">
                                    <input type="text" class="form-control" id="cityContractor" name="City (Contractor)" value="{{default['City (Contractor)']}}" placeholder="City" aria-label="city" required>
                                </div>
                                <div class="col-6 col-sm-3 col-md-6 col-lg-3">
                                    <select class="form-select" id="stateContractor" name="State (Contractor)" aria-label="contractor state" required>
                                        <option value="" hidden selected disabled>--- State ---</option>
                                        {% for state in states %}
                                            <option value="{{state}}" {% if (state == default['State (Contractor)']) %} selected {% endif %}>{{state}}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                                <div class="col-6 col-sm-3 col-md-6 col-lg-3">
                                    <input type="text" class="form-control" id="zipContractor" name="Zip (Contractor)" value="{{default['Zip (Contractor)']}}" placeholder="Postal / Zip Code" aria-label="postal or zip code" pattern="[0-9]{5}" maxlength="5" required>
                                </div>
                                <div class="invalid-feedback"></div>
                            </div>
                        </fieldset>
                    </div>
                </div>
                
                <div class="col-md-6 col-lg-5">
                    <div class="row g-3">
                        <div>
                            <label for="emailContractor" class="form-label">Email Address</label>
                            <input type="email" class="form-control" id="emailContractor" name="Email (Contractor)" value="{{default['Email (Contractor)']}}" required>
                            <div class="invalid-feedback"></div>
                        </div>
                        <div class="col-sm-4 col-md-12">
                            <label for="primaryPhoneContractor" class="form-label">Primary Phone</label>
                            <input type="tel" class="form-control" id="primaryPhoneContractor" name="Phone (Primary, Contractor)" value="{{default['Phone (Primary, Contractor)']}}" pattern="\([0-9]{3}\) [0-9]{3} - [0-9]{4}|[0-9]{10}" maxlength="16" required>
                            <div class="invalid-feedback"></div>
                        </div>
                        <div class="col-sm-4 col-md-12 col-lg-6">
                            <label for="secondaryPhoneContractor" class="form-label">Secondary Phone</label>
                            <input type="tel" class="form-control" id="secondaryPhoneContractor" name="Phone (Secondary, Contractor)" value="{{default['Phone (Secondary, Contractor)']}}" pattern="\([0-9]{3}\) [0-9]{3} - [0-9]{4}|[0-9]{10}" maxlength="16">
                            <div class="invalid-feedback"></div>
                        </div>
                        <div class="col-sm-4 col-md-12 col-lg-6">
                            <label for="faxContractor" class="form-label">Fax Number</label>
                            <input type="tel" class="form-control" id="faxContractor" name="Fax (Contractor)" value="{{default['Fax (Contractor)']}}" pattern="\([0-9]{3}\) [0-9]{3} - [0-9]{4}|[0-9]{10}" maxlength="16">
                            <div class="invalid-feedback"></div>
                        </div>
                        <div class="">
                            <label for="docketNumber" class="form-label">Installer Certificate Docket Number</label>
                            <input type="text" class="form-control" id="docketNumber" name="Docket Number" value="{{default['Docket Number']}}" required>
                            <div class="invalid-feedback"></div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <hr class="my-4">
        
        <div class="form-check my-3">
            <input type="checkbox" class="form-check-input no-validation" id="memberIsSelfElectrician">
            <label for="memberIsSelfElectrician" class="form-check-label">Member is self-installing electrical</label>
        </div>
        <div class="form-check mb-4">
            <input type="checkbox" class="form-check-input no-validation" id="contractorIsElectrician">
            <label for="contractorIsElectrician" class="form-check-label">Equipment contractor same as electrician</label>
        </div>

        <!-- Electrical Contractor Block -->
        <div id="electrician" class="mb-5">
            <h3 class="mb-3">Electrical Contractor Information</h3>
            <div class="row g-3 g-md-5">

                <div class="col-md-6 col-lg-7">
                    <div class="row g-3">
                        <div>
                            <label for="nameElectrician" class="form-label">Electrical Contractor Name</label>
                            <input type="text" class="form-control" id="nameElectrician" name="Name (Electrician)" value="{{default['Name (Electrician)']}}" required>
                            <div class="invalid-feedback"></div>
                        </div>
                        <div>
                            <label for="contactElectrician" class="form-label">Contact Person</label>
                            <input type="text" class="form-control" id="contactElectrician" name="Contact Person (Electrician)" value="{{default['Contact Person (Electrician)']}}" required>
                            <div class="invalid-feedback"></div>
                        </div>
                        <fieldset>
                            <legend class="col-form-label py-0">Mailing Address</legend>
                            <div class="row g-2">
                                <div>
                                    <input type="text" class="form-control" id="addressElectrician" name="Address (Electrician)" value="{{default['Address (Electrician)']}}" placeholder="Street Address" aria-label="street address" required>
                                </div>
                                <div>
                                    <input type="text" class="form-control" id="address2Electrician" name="Address 2 (Electrician)" value="{{default['Address 2 (Electrician)']}}" placeholder="Address Line 2" aria-label="address line 2">
                                </div>
                                <div class="col-sm-6 col-md-12 col-lg-6">
                                    <input type="text" class="form-control" id="cityElectrician" name="City (Electrician)" value="{{default['City (Electrician)']}}" placeholder="City" aria-label="city" required>
                                </div>
                                <div class="col-6 col-sm-3 col-md-6 col-lg-3">
                                    <select class="form-select" id="stateElectrician" name="State (Electrician)" aria-label="electrician state" required>
                                        <option value="" hidden selected disabled>--- State ---</option>
                                        {% for state in states %}
                                            <option value="{{state}}" {% if (state == default['State (Electrician)']) %} selected {% endif %}>{{state}}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                                <div class="col-6 col-sm-3 col-md-6 col-lg-3">
                                    <input type="text" class="form-control" id="zipElectrician" name="Zip (Electrician)" value="{{default['Zip (Electrician)']}}" placeholder="Postal / Zip Code" aria-label="postal or zip code" pattern="[0-9]{5}" maxlength="5" required>
                                </div>
                                <div class="invalid-feedback"></div>
                            </div>
                        </fieldset>
                    </div>
                </div>
                
                <div class="col-md-6 col-lg-5">
                    <div class="row g-3">
                        <div>
                            <label for="emailElectrician" class="form-label">Email Address</label>
                            <input type="email" class="form-control" id="emailElectrician" name="Email (Electrician)" value="{{default['Email (Electrician)']}}" required>
                            <div class="invalid-feedback"></div>
                        </div>
                        <div class="col-sm-4 col-md-12">
                            <label for="primaryPhoneElectrician" class="form-label">Primary Phone</label>
                            <input type="tel" class="form-control" id="primaryPhoneElectrician" name="Phone (Primary, Electrician)" value="{{default['Phone (Primary, Electrician)']}}" pattern="\([0-9]{3}\) [0-9]{3} - [0-9]{4}|[0-9]{10}" maxlength="16" required>
                            <div class="invalid-feedback"></div>
                        </div>
                        <div class="col-sm-4 col-md-12 col-lg-6">
                            <label for="secondaryPhoneElectrician" class="form-label">Secondary Phone</label>
                            <input type="tel" class="form-control" id="secondaryPhoneElectrician" name="Phone (Secondary, Electrician)" value="{{default['Phone (Secondary, Electrician)']}}" pattern="\([0-9]{3}\) [0-9]{3} - [0-9]{4}|[0-9]{10}" maxlength="16">
                            <div class="invalid-feedback"></div>
                        </div>
                        <div class="col-sm-4 col-md-12 col-lg-6">
                            <label for="faxElectrician" class="form-label">Fax Number</label>
                            <input type="tel" class="form-control" id="faxElectrician" name="Fax (Electrician)" value="{{default['Fax (Electrician)']}}" pattern="\([0-9]{3}\) [0-9]{3} - [0-9]{4}|[0-9]{10}" maxlength="16">
                            <div class="invalid-feedback"></div>
                        </div>
                        <fieldset>
                            <legend class="col-form-label py-0">Electrician License Number</legend>
                            <div class="row g-2">
                                <div class="col">
                                    <input type="text" class="form-control" id="licenseElectrician" name="License (Electrician)" value="{{default['License (Electrician)']}}" aria-label="electrician license number" required>
                                </div>
                                <div class="col-auto mt-auto ms-2">
                                    <div class="form-check mb-2">
                                        <input type="checkbox" class="form-check-input" id="activeLicense" name="Active License">
                                        <label for="activeLicense" class="form-check-label">Active License</label>
                                    </div>
                                </div>
                                <div class="invalid-feedback"></div>
                            </div>
                        </fieldset>
                    </div>
                </div>

            </div>
        </div>

        <hr class="my-4">

        <!-- Interconnection Service Block -->
        <div id="facility" class="mb-5">
            <h3 class="mb-3">Interconnection Service Information</h3>
            <div class="row g-3 g-md-5">

                <div class="col-md-6 col-lg-7">
                    <div class="row g-3">
                        <div>
                            <label for="accountNumber" class="form-label">Member Account Number</label>
                            <input type="text" class="form-control" id="accountNumber" name="Account Number" value="{{default['Account Number']}}" required>
                            <div class="invalid-feedback"></div>
                        </div>
                        <div>
                            <label for="meterID" class="form-label">Meter ID</label>
                            <input type="text" class="form-control" id="meterID" name="Meter ID" value="{{default['Meter ID']}}" required>
                            <div class="invalid-feedback"></div>
                        </div>
                        <div>
                            <div class="row g-2 mb-2">
                                <label class="form-label col text-nowrap me-1 mb-0" for="owner">Property Owner</label>
                                <div class="form-check form-check-inline col-auto mt-auto mb-0 ms-1 me-0 pt-1">
                                    <input type="checkbox" class="form-check-input no-validation" id="memberIsOwner">
                                    <label for="memberIsOwner" class="form-check-label">Same as Member</label>
                                </div>
                            </div>
                            <input type="text" class="form-control" id="owner" name="Owner" value="{{default['Owner']}}" required>
                            <div class="invalid-feedback"></div>
                        </div>
                        <fieldset>
                            <div class="row g-2 mb-2">
                                <legend class="col-form-label py-0 col text-nowrap me-1">Service Address</legend>
                                <div class="form-check form-check-inline col-auto mt-auto mb-0 ms-1 me-0 pt-1">
                                    <input type="checkbox" class="form-check-input no-validation" id="serviceAddrIsMemberAddr">
                                    <label for="serviceAddrIsMemberAddr" class="form-check-label">Same as Member Address</label>
                                </div>
                            </div>
                            <div class="row g-2">
                                <div>
                                    <input type="text" class="form-control" id="addressService" name="Address (Service)" value="{{default['Address (Service)']}}" placeholder="Street Address" aria-label="street address" required>                                </div>
                                <div>
                                    <input type="text" class="form-control" id="address2Service" name="Address 2 (Service)" value="{{default['Address 2 (Service)']}}" placeholder="Address Line 2" aria-label="address line 2">
                                </div>
                                <div class="col-sm-6 col-md-12 col-lg-6">
                                    <input type="text" class="form-control" id="cityService" name="City (Service)" value="{{default['City (Service)']}}" placeholder="City" aria-label="city" required>
                                </div>
                                <div class="col-6 col-sm-3 col-md-6 col-lg-3">
                                    <select class="form-select" id="stateService" name="State (Service)" aria-label="service location state" required>
                                        <option value="" hidden selected disabled>--- State ---</option>
                                        {% for state in states %}
                                            <option value="{{state}}" {% if (state == default['State (Service)']) %} selected {% endif %}>{{state}}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                                <div class="col-6 col-sm-3 col-md-6 col-lg-3">
                                    <input type="text" class="form-control" id="zipService" name="Zip (Service)" value="{{default['Zip (Service)']}}" placeholder="Postal / Zip Code" aria-label="postal or zip code" pattern="[0-9]{5}" maxlength="5" required>
                                </div>
                                <div class="invalid-feedback"></div>
                            </div>
                        </fieldset>

                        <div class="col-sm-6 col-md-12 col-lg-6">
                            <label for="installDateEstimated" class="form-label">Estimated Install Date</label>
                            <input type="date" class="form-control" id="installDateEstimated" name="Estimated Install Date" value="{{default['Estimated Install Date']}}" required>
                            <div class="invalid-feedback"></div>
                        </div>
                        <div class="col-sm-6 col-md-12 col-lg-6">
                            <label for="inServiceDateEstimated" class="form-label">Estimated In-Service Date</label>
                            <input type="date" class="form-control" id="inServiceDateEstimated" name="Estimated In-Service Date" value="{{default['Estimated In-Service Date']}}" required>
                            <div class="invalid-feedback"></div>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-6 col-lg-5">
                    <div class="row g-3">
                        <fieldset>
                            <legend class="col-form-label py-0">Inverter Manufacturer & Model</legend>
                            <div class="row g-2">
                                <div>
                                    <select class="form-select" id="inverter" aria-label="inverter manufacturer and model" required>
                                        <option value="" hidden selected disabled>--- Select Inverter ---</option>
                                        {% for manufacturer in inverters %}
                                            <optgroup label="{{manufacturer}}">
                                                {% for model in inverters[manufacturer] %}
                                                    <option value="{{model}}" {% if (default['Inverter Model'] == model) %} selected {% endif %}>{{model}}</option>
                                                {% endfor %}
                                            </optgroup>
                                        {% endfor %}
                                        <option value="Other">Other</option>
                                    </select>
                                    <div class="invalid-feedback"></div>
                                </div>
                                <div class="col-sm-6 col-md-12 col-lg-6 inverterOther" hidden>
                                    <input type="text" class="form-control" id="inverterManufacturer" name="Inverter Manufacturer" value="{{default['Inverter Manufacturer']}}" placeholder="Manufacturer" aria-label="inverter manufacturer" required>
                                    <div class="invalid-feedback"></div>
                                </div>
                                <div class="col-sm-6 col-md-12 col-lg-6 inverterOther" hidden>
                                    <input type="text" class="form-control" id="inverterModel" name="Inverter Model" value="{{default['Inverter Model']}}" placeholder="Model" aria-label="inverter model" required>
                                    <div class="invalid-feedback"></div>
                                </div>
                                <div class="inverterOther" hidden>
                                    <label for="inverterSpec" class="col-form-label">Specification Sheet</label>
                                    <input type="file" class="form-control" id="inverterSpec" name="Inverter Specification" placeholder="Specification Sheet" aria-label="inverter specification sheet">
                                </div>
                            </div>
                        </fieldset>
                        
                        <fieldset>
                            <legend class="col-form-label py-0">Nameplate Ratings</legend>
                            <div class="row g-2">
                                <div class="col-6">
                                    <div class="input-group">
                                        <input type="text" class="form-control" id="nameplateRatingkW" name="Nameplate Rating (kW)" value="{{default['Nameplate Rating (kW)']}}" aria-label="nameplate rating kilowatts AC" aria-describedby="kW-AC" required>
                                        <span class="input-group-text" id="kW-AC">kW-AC</span>
                                        <div class="invalid-feedback"></div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="input-group">
                                        <input type="text" class="form-control" id="nameplateRatingV" name="Nameplate Rating (V)" value="{{default['Nameplate Rating (V)']}}" aria-label="nameplate rating volts AC" aria-describedby="V-AC" required>
                                        <span class="input-group-text" id="V-AC">V-AC</span>
                                        <div class="invalid-feedback"></div>
                                    </div>
                                </div>
                            </div>
                        </fieldset>

                        <fieldset class="col-6">
                            <legend class="col-form-label py-0">Inverter Phases</legend>
                                <div class="form-check form-check-inline">
                                    <input type="radio" class="form-check-input" id="onePhaseRadio" name="Phases" value="One" {% if (default['Phases'] == 'One') %} checked="True" {% endif %} required>
                                    <label for="onePhaseRadio" class="form-check-label">One</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input type="radio" class="form-check-input" id="threePhaseRadio" name="Phases" value="Three" {% if (default['Phases']) == 'Three' %} checked="True" {% endif %} required>
                                    <label for="threePhaseRadio" class="form-check-label">Three</label>
                                </div>
                                <div class="invalid-feedback"></div>
                        </fieldset>
                        <fieldset class="col-6">
                            <legend class="col-form-label py-0">Is the equipment UL1741 listed?</legend>
                                <div class="form-check form-check-inline">
                                    <input type="radio" class="form-check-input" id="yesListedRadio" name="UL1741 listed" value="Yes" {% if (default['UL1741 listed'] == 'Yes') %} checked="True" {% endif %} required>
                                    <label for="yesListedRadio" class="form-check-label">Yes</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input type="radio" class="form-check-input" id="noListedRadio" name="UL1741 listed" value="No" {% if (default['UL1741 listed'] == 'No') %} checked="True" {% endif %} required>
                                    <label for="noListedRadio" class="form-check-label">No</label>
                                </div>
                                <div class="invalid-feedback"></div>
                        </fieldset>

                        <fieldset class="col-6" id="tariffType">
                            <legend class="col-form-label py-0">Tariff Type</legend>
                            <div class="form-check form-check-inline">
                                <input type="radio" class="form-check-input" id="netMeteringRadio" name="Tariff" value="Net metering" required>
                                <label for="netMeteringRadio" class="form-check-label">Net metering</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input type="radio" class="form-check-input" id="valueOfEnergyRadio" name="Tariff" value="Value of energy" required>
                                <label for="valueOfEnergyRadio" class="form-check-label">Value of energy</label>
                            </div>
                            <div class="invalid-feedback"></div>
                        </fieldset>

                        <input type="hidden" class="form-control" id="installationType" name="Installation Type" value="{{default['Installation Type']}}" disabled>
                    </div>
                </div>

            </div>
        </div>

        <hr class="my-4">

        <!-- Signature block -->
        <div id="signature" class="mb-5">
            <h3 class="mb-3">Terms</h3>
            <fieldset class="row g-3 g-lg-5 mb-5">
                <legend class="col-lg-7 col-form-label py-0 mb-2">
                    By clicking the checkbox and typing their name below, the applicant agrees to provide the Cooperative with any additional information required to complete the interconnection. The applicant shall operate his equipment within the guidelines set forth by the cooperative.
                </legend>
                <div class="col-md-6 col-lg-5">
                    <div class="mb-3">
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="agreement" name="Agreement" required>
                            <label for="agreement" class="form-check-label">I accept the terms above</label>
                            <div class="invalid-feedback">You must accept before submitting.</div>
                        </div>
                    </div>
                    <div>
                        <input type="text" class="form-control" id="signed" name="Signed" placeholder="Your name here" aria-label="signature" required>
                        <div class="invalid-feedback">Signature is required</div>
                    </div>
                </div>
            </fieldset>
        </div>

        <!-- Submit button -->
        <hr class="my-4">
        <div class="row my-5 justify-content-md-center">
            <div class="col-md-6">
                <button type="submit" class="btn btn-dark w-100" id="submit">
                    <span class="spinner-border spinner-border-sm me-2" id="submitSpinner" role="status" aria-hidden="true" hidden></span>
                    Submit Application
                </button>
            </div>
        </div>

    </form>
{% endblock %}